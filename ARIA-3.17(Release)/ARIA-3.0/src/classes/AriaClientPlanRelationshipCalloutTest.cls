/**********************************************************************
Name:  AriaClientPlanRelationshipCalloutTest()
Copyright Â© 2012  Aria
============================================================================================================
Purpose:                                                           
-------  
Tests the AriaClientPlanRelationshipCallout class                                               
============================================================================================================
History                                                           
-------                                                           
VERSION  AUTHOR                     DATE              DETAIL                       Change Request
   1.0 - Soliant Consulting (AR)    05/28/2012        INITIAL DEVELOPMENT          
 
***********************************************************************/
@isTest
private class AriaClientPlanRelationshipCalloutTest {

    static testMethod void testAriaClientPlanRelationshipCallout() {
        AriaTestDataGenerator.createAndInsertDefaultConfigWithSuppFields();
        
        List<Client_Plan__c> plans =  AriaTestDataGenerator.getClientPlanList();
        
        test.startTest();
        
        AriaClientPlanRelationshipCallout cOutPlans = new AriaClientPlanRelationshipCallout();
        
        try{
        cOutPlans.processAriaClientPlanRelationship('1','3000');
        } catch(exception ex){
            
        }
        
        String response = '<wddxPacket version=\'1.0\'><header/><data><struct><var name=\'error_code\'><number>0</number></var><var name=\'error_msg\'><string>OK</string></var><var name=\'all_client_plan_dtls\'><array length=\'5\'><struct><var name=\'plan_no\'><number>10213809</number></var><var name=\'plan_name\'><string>Cloud Service Monthly</string></var><var name=\'plan_desc\'><string>Cloud Service</string></var><var name=\'supp_plan_ind\'><number>1</number></var><var name=\'billing_interval\'><number>1</number></var><var name=\'billing_ind\'><number>1</number></var><var name=\'display_ind\'><number>1</number></var><var name=\'rollover_months\'><null/></var><var name=\'rollover_plan_no\'><null/></var><var name=\'early_cancel_fee\'><null/></var><var name=\'early_cancel_min_months\'><null/></var><var name=\'suspension_period\'><null/></var><var name=\'new_acct_status\'><number>1</number></var><var name=\'rollover_acct_status\'><number>1</number></var><var name=\'rollover_acct_status_days\'><number>0</number></var><var name=\'init_free_months\'><number>0</number></var><var name=\'plan_2_assign_on_susp\'><null/></var><var name=\'default_notify_method\'><null/></var><var name=\'prepaid_ind\'><number>0</number></var><var name=\'currency_cd\'><string>usd</string></var><var name=\'first_retrieval_level_ind\'><null/></var><var name=\'client_plan_id\'><string>11112</string></var><var name=\'client_rollover_plan_id\'><null/></var><var name=\'proration_invoice_timing_cd\'><string>I</string></var><var name=\'plan_services\'><array length=\'3\'><struct><var name=\'service_no\'><number>101</number></var><var name=\'service_desc\'><string>Activation Fee</string></var><var name=\'is_recurring_ind\'><number>0</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>0</number></var><var name=\'is_setup_ind\'><number>1</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1001</string></var><var name=\'ledger_code\'><string>1001</string></var><var name=\'client_coa_code\'><string>Setup Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>101</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Setup Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>10</number></var><var name=\'monthly_fee\'><null/></var><var name=\'client_rate_schedule_id\'><string>10216570</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>103</number></var><var name=\'service_desc\'><string>Dialup Usage Fee</string></var><var name=\'is_recurring_ind\'><number>1</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><number>1</number></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>0</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>7001</string></var><var name=\'ledger_code\'><string>7001</string></var><var name=\'client_coa_code\'><string>Usage Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>103</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Usage Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'2\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><number>10</number></var><var name=\'rate_per_unit\'><number>10</number></var><var name=\'monthly_fee\'><number>10</number></var><var name=\'client_rate_schedule_id\'><string>10216570</string></var><var name=\'rate_tier_description\'><null/></var></struct><struct><var name=\'rate_seq_no\'><number>2</number></var><var name=\'from_unit\'><number>11</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>20</number></var><var name=\'monthly_fee\'><number>20</number></var><var name=\'client_rate_schedule_id\'><string>10216570</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>10003120</number></var><var name=\'service_desc\'><string>Minimum Fee</string></var><var name=\'is_recurring_ind\'><number>1</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>1</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>1</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1002</string></var><var name=\'ledger_code\'><string>1002</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>10003120</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>30</number></var><var name=\'monthly_fee\'><number>30</number></var><var name=\'client_rate_schedule_id\'><string>10216570</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct></array></var><var name=\'parent_plans\'><array length=\'3\'><struct><var name=\'parent_plan_no\'><number>10213808</number></var><var name=\'parent_plan_name\'><string>Individual EE</string></var><var name=\'client_parent_plan_id\'><string>11111</string></var></struct><struct><var name=\'parent_plan_no\'><number>10304949</number></var><var name=\'parent_plan_name\'><string>SubPlanMonthlySupportServiceMonthly</string></var><var name=\'client_parent_plan_id\'><string>SubPlanMonthlySupportServiceMonthly</string></var></struct><struct><var name=\'parent_plan_no\'><number>10339114</number></var><var name=\'parent_plan_name\'><string>Test Master Plan 113</string></var><var name=\'client_parent_plan_id\'><string>Test_Master_Plan_113</string></var></struct></array></var></struct><struct><var name=\'plan_no\'><number>10213810</number></var><var name=\'plan_name\'><string>Data Storage</string></var><var name=\'plan_desc\'><null/></var><var name=\'supp_plan_ind\'><number>1</number></var><var name=\'billing_interval\'><number>1</number></var><var name=\'billing_ind\'><number>1</number></var><var name=\'display_ind\'><number>1</number></var><var name=\'rollover_months\'><null/></var><var name=\'rollover_plan_no\'><null/></var><var name=\'early_cancel_fee\'><null/></var><var name=\'early_cancel_min_months\'><null/></var><var name=\'suspension_period\'><null/></var><var name=\'new_acct_status\'><number>1</number></var><var name=\'rollover_acct_status\'><number>1</number></var><var name=\'rollover_acct_status_days\'><number>0</number></var><var name=\'init_free_months\'><null/></var><var name=\'plan_2_assign_on_susp\'><null/></var><var name=\'default_notify_method\'><null/></var><var name=\'prepaid_ind\'><number>0</number></var><var name=\'currency_cd\'><string>usd</string></var><var name=\'first_retrieval_level_ind\'><null/></var><var name=\'client_plan_id\'><string>Data_Storage</string></var><var name=\'client_rollover_plan_id\'><null/></var><var name=\'proration_invoice_timing_cd\'><string>I</string></var><var name=\'plan_services\'><array length=\'3\'><struct><var name=\'service_no\'><number>10003119</number></var><var name=\'service_desc\'><string>Activation Fee</string></var><var name=\'is_recurring_ind\'><number>0</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>0</number></var><var name=\'is_setup_ind\'><number>1</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1002</string></var><var name=\'ledger_code\'><string>1002</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>10003119</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><number>0</number></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>20</number></var><var name=\'monthly_fee\'><null/></var><var name=\'client_rate_schedule_id\'><string>10216572</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>10003120</number></var><var name=\'service_desc\'><string>Minimum Fee</string></var><var name=\'is_recurring_ind\'><number>1</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>1</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>1</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1002</string></var><var name=\'ledger_code\'><string>1002</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>10003120</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><number>0</number></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>35</number></var><var name=\'monthly_fee\'><number>35</number></var><var name=\'client_rate_schedule_id\'><string>10216572</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>10003127</number></var><var name=\'service_desc\'><string>Dialup Usage Fee</string></var><var name=\'is_recurring_ind\'><number>1</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><number>10000359</number></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>1</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1003</string></var><var name=\'ledger_code\'><string>1003</string></var><var name=\'client_coa_code\'><string>Usage Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>10003127</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Usage Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><number>0</number></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>25</number></var><var name=\'monthly_fee\'><number>25</number></var><var name=\'client_rate_schedule_id\'><string>10216572</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct></array></var><var name=\'parent_plans\'><array length=\'6\'><struct><var name=\'parent_plan_no\'><number>10213816</number></var><var name=\'parent_plan_name\'><string>Multiple EE</string></var><var name=\'client_parent_plan_id\'><string>Multiple_EE</string></var></struct><struct><var name=\'parent_plan_no\'><number>10213809</number></var><var name=\'parent_plan_name\'><string>Cloud Service Monthly</string></var><var name=\'client_parent_plan_id\'><string>11112</string></var></struct><struct><var name=\'parent_plan_no\'><number>10339107</number></var><var name=\'parent_plan_name\'><string>Test Master Plan 112</string></var><var name=\'client_parent_plan_id\'><string>Test Master Plan_112</string></var></struct><struct><var name=\'parent_plan_no\'><number>10339104</number></var><var name=\'parent_plan_name\'><string>Test Master Plan 111</string></var><var name=\'client_parent_plan_id\'><string>Test_Master_Plan_111</string></var></struct><struct><var name=\'parent_plan_no\'><number>10339114</number></var><var name=\'parent_plan_name\'><string>Test Master Plan 113</string></var><var name=\'client_parent_plan_id\'><string>Test_Master_Plan_113</string></var></struct><struct><var name=\'parent_plan_no\'><number>10213808</number></var><var name=\'parent_plan_name\'><string>Individual EE</string></var><var name=\'client_parent_plan_id\'><string>11111</string></var></struct></array></var></struct><struct><var name=\'plan_no\'><number>10213814</number></var><var name=\'plan_name\'><string>Event Local</string></var><var name=\'plan_desc\'><null/></var><var name=\'supp_plan_ind\'><number>1</number></var><var name=\'billing_interval\'><number>1</number></var><var name=\'billing_ind\'><number>1</number></var><var name=\'display_ind\'><number>1</number></var><var name=\'rollover_months\'><null/></var><var name=\'rollover_plan_no\'><null/></var><var name=\'early_cancel_fee\'><null/></var><var name=\'early_cancel_min_months\'><null/></var><var name=\'suspension_period\'><null/></var><var name=\'new_acct_status\'><number>1</number></var><var name=\'rollover_acct_status\'><number>1</number></var><var name=\'rollover_acct_status_days\'><number>0</number></var><var name=\'init_free_months\'><number>0</number></var><var name=\'plan_2_assign_on_susp\'><null/></var><var name=\'default_notify_method\'><null/></var><var name=\'prepaid_ind\'><number>0</number></var><var name=\'currency_cd\'><string>usd</string></var><var name=\'first_retrieval_level_ind\'><null/></var><var name=\'client_plan_id\'><string>Event_Local</string></var><var name=\'client_rollover_plan_id\'><null/></var><var name=\'proration_invoice_timing_cd\'><string>I</string></var><var name=\'plan_services\'><array length=\'3\'><struct><var name=\'service_no\'><number>102</number></var><var name=\'service_desc\'><string>Recurring Fee</string></var><var name=\'is_recurring_ind\'><number>1</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>0</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1002</string></var><var name=\'ledger_code\'><string>1002</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>2</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>102</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>300</number></var><var name=\'monthly_fee\'><number>300</number></var><var name=\'client_rate_schedule_id\'><string>10216580</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>198</number></var><var name=\'service_desc\'><string>Late Fee</string></var><var name=\'is_recurring_ind\'><number>0</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>1</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>1</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>1</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>3001</string></var><var name=\'ledger_code\'><string>3001</string></var><var name=\'client_coa_code\'><string>Item Orders</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>198</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Item Orders</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>100</number></var><var name=\'monthly_fee\'><null/></var><var name=\'client_rate_schedule_id\'><string>10216580</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>10003120</number></var><var name=\'service_desc\'><string>Minimum Fee</string></var><var name=\'is_recurring_ind\'><number>1</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>1</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>1</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1002</string></var><var name=\'ledger_code\'><string>1002</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>3</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>10003120</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>200</number></var><var name=\'monthly_fee\'><number>200</number></var><var name=\'client_rate_schedule_id\'><string>10216580</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct></array></var><var name=\'parent_plans\'><array length=\'7\'><struct><var name=\'parent_plan_no\'><number>10339107</number></var><var name=\'parent_plan_name\'><string>Test Master Plan 112</string></var><var name=\'client_parent_plan_id\'><string>Test Master Plan_112</string></var></struct><struct><var name=\'parent_plan_no\'><number>10213813</number></var><var name=\'parent_plan_name\'><string>Marketing Service Monthly</string></var><var name=\'client_parent_plan_id\'><string>Marketing_Service_Monthly</string></var></struct><struct><var name=\'parent_plan_no\'><number>10304949</number></var><var name=\'parent_plan_name\'><string>SubPlanMonthlySupportServiceMonthly</string></var><var name=\'client_parent_plan_id\'><string>SubPlanMonthlySupportServiceMonthly</string></var></struct><struct><var name=\'parent_plan_no\'><number>10339104</number></var><var name=\'parent_plan_name\'><string>Test Master Plan 111</string></var><var name=\'client_parent_plan_id\'><string>Test_Master_Plan_111</string></var></struct><struct><var name=\'parent_plan_no\'><number>10213810</number></var><var name=\'parent_plan_name\'><string>Data Storage</string></var><var name=\'client_parent_plan_id\'><string>Data_Storage</string></var></struct><struct><var name=\'parent_plan_no\'><number>10339114</number></var><var name=\'parent_plan_name\'><string>Test Master Plan 113</string></var><var name=\'client_parent_plan_id\'><string>Test_Master_Plan_113</string></var></struct><struct><var name=\'parent_plan_no\'><number>10213808</number></var><var name=\'parent_plan_name\'><string>Individual EE</string></var><var name=\'client_parent_plan_id\'><string>11111</string></var></struct></array></var></struct><struct><var name=\'plan_no\'><number>10213817</number></var><var name=\'plan_name\'><string>Data Storage Bi Annual</string></var><var name=\'plan_desc\'><string>Data Storage Bi Annual</string></var><var name=\'supp_plan_ind\'><number>1</number></var><var name=\'billing_interval\'><number>6</number></var><var name=\'billing_ind\'><number>1</number></var><var name=\'display_ind\'><number>1</number></var><var name=\'rollover_months\'><null/></var><var name=\'rollover_plan_no\'><null/></var><var name=\'early_cancel_fee\'><null/></var><var name=\'early_cancel_min_months\'><null/></var><var name=\'suspension_period\'><null/></var><var name=\'new_acct_status\'><number>1</number></var><var name=\'rollover_acct_status\'><number>1</number></var><var name=\'rollover_acct_status_days\'><number>0</number></var><var name=\'init_free_months\'><number>0</number></var><var name=\'plan_2_assign_on_susp\'><null/></var><var name=\'default_notify_method\'><null/></var><var name=\'prepaid_ind\'><number>0</number></var><var name=\'currency_cd\'><string>usd</string></var><var name=\'first_retrieval_level_ind\'><null/></var><var name=\'client_plan_id\'><string>Data_Storage_Bi_Annual</string></var><var name=\'client_rollover_plan_id\'><null/></var><var name=\'proration_invoice_timing_cd\'><string>I</string></var><var name=\'plan_services\'><array length=\'4\'><struct><var name=\'service_no\'><number>100</number></var><var name=\'service_desc\'><string>Minimum Fee</string></var><var name=\'is_recurring_ind\'><number>1</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>1</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>1</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1000</string></var><var name=\'ledger_code\'><string>1000</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>1</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>100</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'2\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><number>100</number></var><var name=\'rate_per_unit\'><number>2000</number></var><var name=\'monthly_fee\'><number>333.33</number></var><var name=\'client_rate_schedule_id\'><string>10216585</string></var><var name=\'rate_tier_description\'><null/></var></struct><struct><var name=\'rate_seq_no\'><number>2</number></var><var name=\'from_unit\'><number>101</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>1800</number></var><var name=\'monthly_fee\'><number>300</number></var><var name=\'client_rate_schedule_id\'><string>10216585</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>198</number></var><var name=\'service_desc\'><string>Late Fee</string></var><var name=\'is_recurring_ind\'><number>0</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>1</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>1</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>1</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>3001</string></var><var name=\'ledger_code\'><string>3001</string></var><var name=\'client_coa_code\'><string>Item Orders</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>198</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Item Orders</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>300</number></var><var name=\'monthly_fee\'><null/></var><var name=\'client_rate_schedule_id\'><string>10216585</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>10003119</number></var><var name=\'service_desc\'><string>Activation Fee</string></var><var name=\'is_recurring_ind\'><number>0</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>0</number></var><var name=\'is_setup_ind\'><number>1</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1002</string></var><var name=\'ledger_code\'><string>1002</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>10003119</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>1000</number></var><var name=\'monthly_fee\'><null/></var><var name=\'client_rate_schedule_id\'><string>10216585</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>10003123</number></var><var name=\'service_desc\'><string>Seat Licenses</string></var><var name=\'is_recurring_ind\'><number>0</number></var><var name=\'is_usage_based_ind\'><number>1</number></var><var name=\'usage_type\'><number>2</number></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>1</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1002</string></var><var name=\'ledger_code\'><string>1002</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><string>Toll-free time usage (seconds)</string></var><var name=\'usage_type_desc\'><string>Toll-free time usage (seconds)</string></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><string>second</string></var><var name=\'client_service_id\'><string>10003123</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><null/></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>3000</number></var><var name=\'monthly_fee\'><null/></var><var name=\'client_rate_schedule_id\'><string>10216585</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct></array></var><var name=\'parent_plans\'><array length=\'3\'><struct><var name=\'parent_plan_no\'><number>10213811</number></var><var name=\'parent_plan_name\'><string>Platform Lease</string></var><var name=\'client_parent_plan_id\'><string>Platform_Lease</string></var></struct><struct><var name=\'parent_plan_no\'><number>10213816</number></var><var name=\'parent_plan_name\'><string>Multiple EE</string></var><var name=\'client_parent_plan_id\'><string>Multiple_EE</string></var></struct><struct><var name=\'parent_plan_no\'><number>10339114</number></var><var name=\'parent_plan_name\'><string>Test Master Plan 113</string></var><var name=\'client_parent_plan_id\'><string>Test_Master_Plan_113</string></var></struct></array></var></struct><struct><var name=\'plan_no\'><number>10304973</number></var><var name=\'plan_name\'><string>Monthly Plan</string></var><var name=\'plan_desc\'><null/></var><var name=\'supp_plan_ind\'><number>1</number></var><var name=\'billing_interval\'><number>1</number></var><var name=\'billing_ind\'><number>1</number></var><var name=\'display_ind\'><number>1</number></var><var name=\'rollover_months\'><null/></var><var name=\'rollover_plan_no\'><null/></var><var name=\'early_cancel_fee\'><null/></var><var name=\'early_cancel_min_months\'><null/></var><var name=\'suspension_period\'><null/></var><var name=\'new_acct_status\'><number>1</number></var><var name=\'rollover_acct_status\'><number>1</number></var><var name=\'rollover_acct_status_days\'><number>0</number></var><var name=\'init_free_months\'><number>0</number></var><var name=\'plan_2_assign_on_susp\'><null/></var><var name=\'default_notify_method\'><null/></var><var name=\'prepaid_ind\'><number>0</number></var><var name=\'currency_cd\'><string>usd</string></var><var name=\'first_retrieval_level_ind\'><null/></var><var name=\'client_plan_id\'><string>Monthly_Plan</string></var><var name=\'client_rollover_plan_id\'><null/></var><var name=\'proration_invoice_timing_cd\'><string>I</string></var><var name=\'plan_services\'><array length=\'3\'><struct><var name=\'service_no\'><number>0</number></var><var name=\'service_desc\'><string>Account Credit</string></var><var name=\'is_recurring_ind\'><number>0</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>0</number></var><var name=\'is_setup_ind\'><number>0</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1000</string></var><var name=\'ledger_code\'><string>1000</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>0</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><number>0</number></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>100</number></var><var name=\'monthly_fee\'><null/></var><var name=\'client_rate_schedule_id\'><string>10582809</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>101</number></var><var name=\'service_desc\'><string>Activation Fee</string></var><var name=\'is_recurring_ind\'><number>0</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>0</number></var><var name=\'is_setup_ind\'><number>1</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1001</string></var><var name=\'ledger_code\'><string>1001</string></var><var name=\'client_coa_code\'><string>Setup Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>101</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Setup Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><number>0</number></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>100</number></var><var name=\'monthly_fee\'><null/></var><var name=\'client_rate_schedule_id\'><string>10582809</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct><struct><var name=\'service_no\'><number>10003119</number></var><var name=\'service_desc\'><string>Activation Fee</string></var><var name=\'is_recurring_ind\'><number>0</number></var><var name=\'is_usage_based_ind\'><number>0</number></var><var name=\'usage_type\'><null/></var><var name=\'taxable_ind\'><number>0</number></var><var name=\'is_tax_ind\'><number>0</number></var><var name=\'is_arrears_ind\'><number>0</number></var><var name=\'is_setup_ind\'><number>1</number></var><var name=\'is_misc_ind\'><number>0</number></var><var name=\'is_donation_ind\'><number>0</number></var><var name=\'is_order_based_ind\'><number>0</number></var><var name=\'is_cancellation_ind\'><number>0</number></var><var name=\'coa_id\'><string>1002</string></var><var name=\'ledger_code\'><string>1002</string></var><var name=\'client_coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'display_ind\'><number>1</number></var><var name=\'tiered_pricing_rule\'><number>1</number></var><var name=\'is_min_fee_ind\'><number>0</number></var><var name=\'usage_type_name\'><null/></var><var name=\'usage_type_desc\'><null/></var><var name=\'usage_type_code\'><null/></var><var name=\'usage_unit_label\'><null/></var><var name=\'client_service_id\'><string>10003119</string></var><var name=\'usage_type_cd\'><null/></var><var name=\'coa_code\'><string>Recurring Flat Fees COA Code</string></var><var name=\'fulfillment_based_ind\'><number>0</number></var><var name=\'plan_service_rates\'><array length=\'1\'><struct><var name=\'rate_seq_no\'><number>1</number></var><var name=\'from_unit\'><number>1</number></var><var name=\'to_unit\'><null/></var><var name=\'rate_per_unit\'><number>100</number></var><var name=\'monthly_fee\'><null/></var><var name=\'client_rate_schedule_id\'><string>10582809</string></var><var name=\'rate_tier_description\'><null/></var></struct></array></var><var name=\'all_service_supp_fields\'><null/></var></struct></array></var><var name=\'parent_plans\'><array length=\'4\'><struct><var name=\'parent_plan_no\'><number>10307585</number></var><var name=\'parent_plan_name\'><string>Master Plan101</string></var><var name=\'client_parent_plan_id\'><string>Master_Plan101</string></var></struct><struct><var name=\'parent_plan_no\'><number>10213816</number></var><var name=\'parent_plan_name\'><string>Multiple EE</string></var><var name=\'client_parent_plan_id\'><string>Multiple_EE</string></var></struct><struct><var name=\'parent_plan_no\'><number>10213808</number></var><var name=\'parent_plan_name\'><string>Individual EE</string></var><var name=\'client_parent_plan_id\'><string>11111</string></var></struct><struct><var name=\'parent_plan_no\'><number>10339114</number></var><var name=\'parent_plan_name\'><string>Test Master Plan 113</string></var><var name=\'client_parent_plan_id\'><string>Test_Master_Plan_113</string></var></struct></array></var></struct></array></var></struct></data></wddxPacket>';
        WDDXDeserializer d = new WDDXDeserializer(response);
        //cOutPlans.handleResult(d.deserialize());
        cOutPlans.handleResult(d.deserialize(),'1'); 
        
        List<Client_Plan__c> cPlans = new List<Client_Plan__c>([Select Id from Client_Plan__c where Aria_Id__c='1' limit 1]);
        system.assert(cPlans.size()>0);
        

        
        test.stopTest();
    }
}